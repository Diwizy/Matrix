<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matrix Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
        }
    </script>
</head>
<body class="min-h-screen bg-white dark:bg-black bg-[url('https://img.freepik.com/premium-photo/black-background-with-colorful-smoke-it_887552-1302.jpg')] dark:bg-[url('https://img.freepik.com/premium-photo/white-background-with-soft-gradient-blur_887552-4212.jpg')] bg-cover bg-center">
    <div class="container mx-auto py-10 px-4 md:px-10 text-black dark:text-white">
        <!-- Toggle Theme Button -->
        <div class="flex justify-end mb-4">
            <button onclick="toggleTheme()" class="bg-yellow-400 hover:bg-yellow-300 text-black dark:bg-gray-800 dark:text-white dark:hover:bg-gray-700 px-4 py-2 rounded shadow">
                Toggle Theme
            </button>
        </div>

        <h1 class="text-3xl font-bold text-center mb-8">Kalkulator Matriks</h1>
        
        <!-- Matrix Inputs -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
                <label for="matrixA" class="block text-lg font-medium mb-2">Matriks A:</label>
                <textarea id="matrixA" rows="4" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 dark:text-white" placeholder="Contoh: 1 2 3\n4 5 6"></textarea>
            </div>
            <div>
                <label for="matrixB" class="block text-lg font-medium mb-2">Matriks B:</label>
                <textarea id="matrixB" rows="4" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 dark:text-white" placeholder="Contoh: 7 8 9\n10 11 12"></textarea>
            </div>
        </div>

        <!-- Operations -->
        <div class="flex flex-wrap justify-center mt-6 gap-4">
            <button onclick="calculate('add')" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">Tambah</button>
            <button onclick="calculate('subtract')" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded">Kurang</button>
            <button onclick="calculate('multiply')" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded">Kali</button>
        </div>

        <!-- Result -->
        <div id="result" class="mt-6 text-center text-lg font-semibold"></div>
    </div>

    <script>
        function toggleTheme() {
            document.documentElement.classList.toggle('dark');
        }

        function parseMatrix(text) {
            return text.trim().split('\n').map(row => row.trim().split(/\s+/).map(Number));
        }

        function displayMatrix(matrix) {
            return matrix.map(row => row.join(' ')).join('<br>');
        }

        function calculate(operation) {
            const matrixA = parseMatrix(document.getElementById('matrixA').value);
            const matrixB = parseMatrix(document.getElementById('matrixB').value);

            if (!matrixA.length || !matrixB.length) {
                document.getElementById('result').innerHTML = '<span class="text-red-500">Matriks tidak boleh kosong!</span>';
                return;
            }

            let result = [];

            if (operation === 'add' || operation === 'subtract') {
                if (matrixA.length !== matrixB.length || matrixA[0].length !== matrixB[0].length) {
                    document.getElementById('result').innerHTML = '<span class="text-red-500">Ukuran matriks harus sama!</span>';
                    return;
                }

                for (let i = 0; i < matrixA.length; i++) {
                    result[i] = [];
                    for (let j = 0; j < matrixA[0].length; j++) {
                        result[i][j] = operation === 'add' ? matrixA[i][j] + matrixB[i][j] : matrixA[i][j] - matrixB[i][j];
                    }
                }
            } else if (operation === 'multiply') {
                if (matrixA[0].length !== matrixB.length) {
                    document.getElementById('result').innerHTML = '<span class="text-red-500">Jumlah kolom A harus sama dengan jumlah baris B!</span>';
                    return;
                }

                for (let i = 0; i < matrixA.length; i++) {
                    result[i] = [];
                    for (let j = 0; j < matrixB[0].length; j++) {
                        let sum = 0;
                        for (let k = 0; k < matrixA[0].length; k++) {
                            sum += matrixA[i][k] * matrixB[k][j];
                        }
                        result[i][j] = sum;
                    }
                }
            }

            document.getElementById('result').innerHTML = '<pre>' + displayMatrix(result) + '</pre>';
        }
    </script>
</body>
</html>
