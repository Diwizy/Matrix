<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matrix Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="min-h-screen bg-white">
    <div class="container mx-auto px-4 py-8">
        <h1 class="text-3xl font-bold text-center mb-8 text-black">Matrix Calculator by Dewi Al Awaliah</h1>

        <div class="bg-gray-100 rounded-lg shadow-lg p-6 mb-8">
            <div class="flex flex-wrap justify-center gap-8 mb-8">
                <!-- Matrix A -->
                <div class="matrix-container">
                    <h2 class="text-xl font-semibold mb-4 text-center text-blue-600">Matrix A</h2>
                    <div id="matrixA" class="grid grid-cols-3 gap-2 mb-4"></div>
                    <div class="flex justify-center gap-2">
                        <button onclick="changeMatrixSize('A', 'row', -1)" class="bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded">- Row</button>
                        <button onclick="changeMatrixSize('A', 'row', 1)" class="bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded">+ Row</button>
                        <button onclick="changeMatrixSize('A', 'col', -1)" class="bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded">- Col</button>
                        <button onclick="changeMatrixSize('A', 'col', 1)" class="bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded">+ Col</button>
                        <button onclick="fillRandom('A')" class="bg-blue-300 hover:bg-blue-400 px-3 py-1 rounded text-white">Random A</button>
                    </div>
                </div>

                <!-- Matrix B -->
                <div class="matrix-container">
                    <h2 class="text-xl font-semibold mb-4 text-center text-purple-600">Matrix B</h2>
                    <div id="matrixB" class="grid grid-cols-3 gap-2 mb-4"></div>
                    <div class="flex justify-center gap-2">
                        <button onclick="changeMatrixSize('B', 'row', -1)" class="bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded">- Row</button>
                        <button onclick="changeMatrixSize('B', 'row', 1)" class="bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded">+ Row</button>
                        <button onclick="changeMatrixSize('B', 'col', -1)" class="bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded">- Col</button>
                        <button onclick="changeMatrixSize('B', 'col', 1)" class="bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded">+ Col</button>
                        <button onclick="fillRandom('B')" class="bg-purple-400 hover:bg-purple-500 px-3 py-1 rounded text-white">Random B</button>
                    </div>
                </div>
            </div>

            <!-- Result -->
            <div class="result-container">
                <h2 class="text-xl font-semibold mb-4 text-center text-yellow-600">Result</h2>
                <div id="resultMatrix" class="grid gap-2 mb-4 flex justify-center"></div>
                <div id="scalarResult" class="text-center text-2xl font-bold text-green-600 hidden"></div>
            </div>
        </div>
    </div>

    <script>
        let matrixA = { rows: 2, cols: 2, data: [[0,0],[0,0]] };
        let matrixB = { rows: 2, cols: 2, data: [[0,0],[0,0]] };

        document.addEventListener('DOMContentLoaded', () => {
            renderMatrix('A');
            renderMatrix('B');
        });

        function renderMatrix(name) {
            const matrix = name === 'A' ? matrixA : matrixB;
            const container = document.getElementById(`matrix${name}`);
            container.innerHTML = '';
            container.style.gridTemplateColumns = `repeat(${matrix.cols}, minmax(0, 1fr))`;

            for (let i = 0; i < matrix.rows; i++) {
                for (let j = 0; j < matrix.cols; j++) {
                    const input = document.createElement('input');
                    input.type = 'number';
                    input.value = matrix.data[i]?.[j] || 0;
                    input.className = 'w-full p-2 border rounded text-center';
                    input.dataset.row = i;
                    input.dataset.col = j;
                    input.addEventListener('input', function() {
                        updateMatrixData(name, i, j, parseFloat(this.value) || 0);
                    });
                    container.appendChild(input);
                }
            }
        }

        function updateMatrixData(name, row, col, value) {
            const matrix = name === 'A' ? matrixA : matrixB;
            if (!matrix.data[row]) matrix.data[row] = [];
            matrix.data[row][col] = value;
        }

        function changeMatrixSize(name, dimension, change) {
            const matrix = name === 'A' ? matrixA : matrixB;
            const size = dimension === 'row' ? matrix.rows : matrix.cols;
            const newSize = size + change;
            if (newSize < 1) return;

            if (dimension === 'row') {
                matrix.rows = newSize;
                if (change > 0) matrix.data.push(new Array(matrix.cols).fill(0));
                else matrix.data.pop();
            } else {
                matrix.cols = newSize;
                matrix.data.forEach(row => {
                    if (change > 0) row.push(0);
                    else row.pop();
                });
            }
            renderMatrix(name);
        }

        function fillRandom(name) {
            const matrix = name === 'A' ? matrixA : matrixB;
            for (let i = 0; i < matrix.rows; i++) {
                for (let j = 0; j < matrix.cols; j++) {
                    matrix.data[i][j] = Math.floor(Math.random() * 21) - 10; // Random -10 to 10
                }
            }
            renderMatrix(name);
        }
    </script>
</body>
</html>
